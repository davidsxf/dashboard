# 优化后的人事系统开发计划

## 1. 项目概述

基于现有数据库模型，开发一个人事信息管理系统，后端使用 Django Ninja，前端使用 Nuxt UI Dashboard 模板，专注于员工、部门和科研创新团队的管理。

## 2. 技术栈

### 后端
- Django 5.x
- Django Ninja
- PostgreSQL
- JWT 认证

### 前端
- Nuxt 4.x
- Vue 3
- TypeScript
- Nuxt UI

## 3. 现有数据库模型分析

### 核心模型

#### 1. Department（部门）
- 包含部门名称、上级部门、负责人等字段
- 支持部门层级结构

#### 2. ResearchTeam（科研创新团队）
- 包含团队名称、所属部门、负责人等字段
- 与部门关联

#### 3. Employee（员工）
- 包含详细的员工信息：
  - 基本信息（姓名、性别、民族、身份证号等）
  - 政治面貌
  - 职务信息
  - 职称信息
  - 教育背景（全日制和在职）
  - 工作信息
  - 联系方式

## 4. 项目结构调整

### 后端结构
```
hr_backend/
├── core/                # 核心配置
├── api/                 # API 路由
│   ├── auth.py          # 认证 API
│   ├── employees.py     # 员工管理 API
│   ├── departments.py   # 部门管理 API
│   └── teams.py         # 科研团队管理 API
├── apps/                # Django 应用
│   ├── employees/       # 员工管理
│   ├── departments/     # 部门管理
│   └── teams/           # 科研团队管理
├── models/              # 数据库模型（使用现有模型）
├── schemas/             # Pydantic 模型
├── utils/               # 工具函数
└── manage.py
```

### 前端结构（基于 Nuxt UI Dashboard 模板）
```
app/
├── components/          # 组件
│   ├── employees/       # 员工管理组件
│   │   ├── EmployeeList.vue
│   │   ├── EmployeeForm.vue
│   │   └── EmployeeDetail.vue
│   ├── departments/     # 部门管理组件
│   │   ├── DepartmentTree.vue
│   │   └── DepartmentForm.vue
│   └── teams/           # 科研团队组件
│       ├── TeamList.vue
│       └── TeamForm.vue
├── composables/         # 组合式函数
│   ├── useEmployees.ts
│   ├── useDepartments.ts
│   └── useTeams.ts
├── layouts/             # 布局（使用现有布局）
├── pages/               # 页面
│   ├── employees/       # 员工管理页面
│   │   ├── index.vue    # 员工列表
│   │   ├── create.vue   # 创建员工
│   │   └── [id].vue     # 员工详情
│   ├── departments/     # 部门管理页面
│   │   ├── index.vue    # 部门列表
│   │   └── create.vue   # 创建部门
│   └── teams/           # 科研团队页面
│       ├── index.vue    # 团队列表
│       └── create.vue   # 创建团队
├── types/               # TypeScript 类型
│   ├── employee.ts
│   ├── department.ts
│   └── team.ts
└── utils/               # 工具函数
```

## 5. API 设计

### 认证 API
- POST /api/auth/login - 用户登录
- POST /api/auth/logout - 用户登出
- POST /api/auth/refresh - 刷新令牌

### 员工管理 API
- GET /api/employees - 获取员工列表（支持过滤、排序、分页）
- GET /api/employees/{id} - 获取单个员工详情
- POST /api/employees - 创建员工
- PUT /api/employees/{id} - 更新员工信息
- DELETE /api/employees/{id} - 删除员工
- GET /api/employees/export - 导出员工数据

### 部门管理 API
- GET /api/departments - 获取部门列表
- GET /api/departments/{id} - 获取单个部门详情
- POST /api/departments - 创建部门
- PUT /api/departments/{id} - 更新部门信息
- DELETE /api/departments/{id} - 删除部门
- GET /api/departments/tree - 获取部门树状结构

### 科研团队管理 API
- GET /api/teams - 获取科研团队列表
- GET /api/teams/{id} - 获取单个科研团队详情
- POST /api/teams - 创建科研团队
- PUT /api/teams/{id} - 更新科研团队信息
- DELETE /api/teams/{id} - 删除科研团队

## 6. 前端页面设计

### 1. 登录页面
- 用户名/密码登录
- JWT 令牌存储

### 2. 首页
- 系统概览
- 统计数据（员工总数、部门数量、团队数量）
- 最近添加的员工

### 3. 员工管理
- 员工列表（支持搜索、筛选、排序）
- 员工详情查看
- 员工信息编辑
- 员工添加
- 员工数据导出

### 4. 部门管理
- 部门树状图展示
- 部门详情查看
- 部门添加/编辑
- 部门负责人分配

### 5. 科研团队管理
- 科研团队列表
- 科研团队详情查看
- 科研团队添加/编辑
- 团队负责人分配

### 6. 系统设置
- 用户管理
- 角色权限管理
- 系统配置

## 7. 开发流程

### 阶段一：项目初始化
1. 创建 Django 项目
2. 配置 Django Ninja
3. 设置数据库（使用现有模型）
4. 实现 JWT 认证

### 阶段二：API 开发
1. 实现员工管理 API
2. 实现部门管理 API
3. 实现科研团队管理 API

### 阶段三：前端开发
1. 配置 Nuxt 项目
2. 改造 Nuxt UI Dashboard 模板
3. 实现员工管理页面
4. 实现部门管理页面
5. 实现科研团队管理页面

### 阶段四：测试与部署
1. 单元测试
2. 集成测试
3. 部署到生产环境

## 8. 关键功能实现

### 1. 认证与授权
- JWT 身份验证
- 基于角色的权限控制
- API 端点保护

### 2. 员工管理
- 员工信息的增删改查
- 员工数据导入导出
- 员工信息的完整展示

### 3. 部门管理
- 部门层级结构展示
- 部门负责人分配
- 部门与员工关联

### 4. 科研团队管理
- 团队与部门关联
- 团队负责人分配
- 团队成员管理

### 5. 数据可视化
- 员工分布统计
- 部门结构可视化
- 团队组成分析

### 6. 响应式设计
- 适配不同屏幕尺寸
- 移动端友好

## 9. 开发规范

### 后端规范
- 使用 Django Ninja 编写 API
- 使用 Pydantic 进行数据验证
- 遵循 RESTful API 设计原则

### 前端规范
- 使用 TypeScript 编写代码
- 组件化开发
- 遵循 Vue 3 最佳实践

## 10. 部署方案

### 后端部署
- Docker 容器化
- Nginx 作为反向代理
- Gunicorn 作为 WSGI 服务器

### 前端部署
- 静态文件部署
- 使用 Vercel 或 Netlify 部署

## 11. 后续扩展

- 绩效考核管理
- 培训管理
- 薪酬管理
- 招聘管理

# 总结

基于现有数据库模型，优化后的开发计划专注于核心人事管理功能，包括员工、部门和科研创新团队的管理。开发计划与现有模型紧密结合，充分利用已有的数据库设计，同时保持良好的扩展性，便于后续功能扩展。